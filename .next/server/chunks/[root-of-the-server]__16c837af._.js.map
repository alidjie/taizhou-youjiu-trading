{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/taizhou-youjiu-trading/src/data/products.ts"],"sourcesContent":["import { Product } from '@/types';\n\n// 示例产品数据\nexport const sampleProducts: Product[] = [\n  // 磁性材料\n  {\n    id: 'mag-001',\n    name: 'Neodymium Permanent Magnet',\n    category: 'magnetic-materials',\n    description: 'High-performance neodymium permanent magnets with excellent magnetic properties. Suitable for motors, generators, and various industrial applications.',\n    shortDescription: 'High-performance neodymium permanent magnets',\n    images: ['/images/products/neodymium-magnet.jpg'],\n    specifications: {\n      'Material': 'NdFeB',\n      'Grade': 'N35-N52',\n      'Shape': 'Block, Disc, Ring, Arc',\n      'Coating': 'Ni-Cu-Ni, Zn, Epoxy',\n      'Working Temperature': '80°C-200°C',\n      'Magnetic Field': '12000-15000 Gauss'\n    },\n    price: {\n      min: 0.5,\n      max: 50,\n      currency: 'USD',\n      unit: 'piece'\n    },\n    inStock: true,\n    featured: true\n  },\n  {\n    id: 'mag-002',\n    name: 'Ferrite Permanent Magnet',\n    category: 'magnetic-materials',\n    description: 'Cost-effective ferrite permanent magnets with good corrosion resistance and stable performance.',\n    shortDescription: 'Cost-effective ferrite permanent magnets',\n    images: ['/images/products/ferrite-magnet.jpg'],\n    specifications: {\n      'Material': 'Ferrite',\n      'Grade': 'Y30, Y35, Y40',\n      'Shape': 'Block, Ring, Arc, Custom',\n      'Working Temperature': '-40°C to +250°C',\n      'Magnetic Field': '3800-4200 Gauss'\n    },\n    price: {\n      min: 0.1,\n      max: 10,\n      currency: 'USD',\n      unit: 'piece'\n    },\n    inStock: true,\n    featured: false\n  },\n\n  // 磁性过滤器\n  {\n    id: 'filter-001',\n    name: 'Magnetic Separator Bar',\n    category: 'magnetic-filters',\n    description: 'High-intensity magnetic separator bars for removing ferrous contaminants from dry materials.',\n    shortDescription: 'High-intensity magnetic separator bars',\n    images: ['/images/products/magnetic-separator-bar.jpg'],\n    specifications: {\n      'Magnetic Strength': '12000 Gauss',\n      'Diameter': '25mm, 32mm, 50mm',\n      'Length': '100mm-3000mm',\n      'Material': 'Stainless Steel 316L',\n      'Working Temperature': 'Up to 80°C'\n    },\n    price: {\n      min: 20,\n      max: 200,\n      currency: 'USD',\n      unit: 'piece'\n    },\n    inStock: true,\n    featured: true\n  },\n\n  // 漆包线\n  {\n    id: 'wire-001',\n    name: 'Enameled Copper Wire',\n    category: 'enameled-wire',\n    description: 'High-quality enameled copper wire for transformers, motors, and electrical equipment.',\n    shortDescription: 'High-quality enameled copper wire',\n    images: ['/images/products/enameled-copper-wire.jpg'],\n    specifications: {\n      'Conductor': 'Copper',\n      'Insulation': 'Polyurethane, Polyester',\n      'Diameter': '0.1mm-5.0mm',\n      'Temperature Class': '130°C, 155°C, 180°C',\n      'Standard': 'IEC 60317, NEMA MW1000'\n    },\n    price: {\n      min: 8,\n      max: 15,\n      currency: 'USD',\n      unit: 'kg'\n    },\n    inStock: true,\n    featured: true\n  },\n\n  // 农用机械\n  {\n    id: 'agri-001',\n    name: 'Rotary Tiller',\n    category: 'agricultural-machinery',\n    description: 'Heavy-duty rotary tiller for soil preparation and cultivation. Suitable for tractors 25-60HP.',\n    shortDescription: 'Heavy-duty rotary tiller for soil preparation',\n    images: ['/images/products/rotary-tiller.jpg'],\n    specifications: {\n      'Working Width': '1.2m, 1.5m, 1.8m, 2.0m',\n      'Tractor Power': '25-60HP',\n      'Tilling Depth': '15-20cm',\n      'Blades': 'Heat-treated steel',\n      'Weight': '280-450kg'\n    },\n    price: {\n      min: 800,\n      max: 1500,\n      currency: 'USD',\n      unit: 'unit'\n    },\n    inStock: true,\n    featured: true\n  },\n  {\n    id: 'agri-002',\n    name: 'Disc Harrow',\n    category: 'agricultural-machinery',\n    description: 'Professional disc harrow for breaking up soil and incorporating crop residues.',\n    shortDescription: 'Professional disc harrow for soil breaking',\n    images: ['/images/products/disc-harrow.jpg'],\n    specifications: {\n      'Working Width': '1.5m, 2.0m, 2.5m',\n      'Disc Diameter': '510mm, 560mm, 610mm',\n      'Disc Thickness': '5mm, 6mm',\n      'Tractor Power': '40-80HP',\n      'Weight': '450-750kg'\n    },\n    price: {\n      min: 1200,\n      max: 2500,\n      currency: 'USD',\n      unit: 'unit'\n    },\n    inStock: true,\n    featured: false\n  },\n  {\n    id: 'agri-003',\n    name: 'Seed Drill',\n    category: 'agricultural-machinery',\n    description: 'Precision seed drill for accurate seed placement and optimal crop establishment.',\n    shortDescription: 'Precision seed drill for accurate planting',\n    images: ['/images/products/seed-drill.jpg'],\n    specifications: {\n      'Working Width': '2.0m, 2.5m, 3.0m',\n      'Row Spacing': '125mm, 150mm, 175mm',\n      'Seed Box Capacity': '200L, 300L, 400L',\n      'Tractor Power': '35-70HP',\n      'Planting Depth': '10-80mm'\n    },\n    price: {\n      min: 2000,\n      max: 4000,\n      currency: 'USD',\n      unit: 'unit'\n    },\n    inStock: true,\n    featured: true\n  }\n];\n\n// 按类别获取产品\nexport const getProductsByCategory = (category: Product['category']) => {\n  return sampleProducts.filter(product => product.category === category);\n};\n\n// 获取特色产品\nexport const getFeaturedProducts = () => {\n  return sampleProducts.filter(product => product.featured);\n};\n\n// 根据ID获取产品\nexport const getProductById = (id: string) => {\n  return sampleProducts.find(product => product.id === id);\n};\n\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,iBAA4B;IACvC,OAAO;IACP;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAAwC;QACjD,gBAAgB;YACd,YAAY;YACZ,SAAS;YACT,SAAS;YACT,WAAW;YACX,uBAAuB;YACvB,kBAAkB;QACpB;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAAsC;QAC/C,gBAAgB;YACd,YAAY;YACZ,SAAS;YACT,SAAS;YACT,uBAAuB;YACvB,kBAAkB;QACpB;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IAEA,QAAQ;IACR;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAA8C;QACvD,gBAAgB;YACd,qBAAqB;YACrB,YAAY;YACZ,UAAU;YACV,YAAY;YACZ,uBAAuB;QACzB;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IAEA,MAAM;IACN;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAA4C;QACrD,gBAAgB;YACd,aAAa;YACb,cAAc;YACd,YAAY;YACZ,qBAAqB;YACrB,YAAY;QACd;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IAEA,OAAO;IACP;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAAqC;QAC9C,gBAAgB;YACd,iBAAiB;YACjB,iBAAiB;YACjB,iBAAiB;YACjB,UAAU;YACV,UAAU;QACZ;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAAmC;QAC5C,gBAAgB;YACd,iBAAiB;YACjB,iBAAiB;YACjB,kBAAkB;YAClB,iBAAiB;YACjB,UAAU;QACZ;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;IACA;QACE,IAAI;QACJ,MAAM;QACN,UAAU;QACV,aAAa;QACb,kBAAkB;QAClB,QAAQ;YAAC;SAAkC;QAC3C,gBAAgB;YACd,iBAAiB;YACjB,eAAe;YACf,qBAAqB;YACrB,iBAAiB;YACjB,kBAAkB;QACpB;QACA,OAAO;YACL,KAAK;YACL,KAAK;YACL,UAAU;YACV,MAAM;QACR;QACA,SAAS;QACT,UAAU;IACZ;CACD;AAGM,MAAM,wBAAwB,CAAC;IACpC,OAAO,eAAe,MAAM,CAAC,CAAA,UAAW,QAAQ,QAAQ,KAAK;AAC/D;AAGO,MAAM,sBAAsB;IACjC,OAAO,eAAe,MAAM,CAAC,CAAA,UAAW,QAAQ,QAAQ;AAC1D;AAGO,MAAM,iBAAiB,CAAC;IAC7B,OAAO,eAAe,IAAI,CAAC,CAAA,UAAW,QAAQ,EAAE,KAAK;AACvD","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///home/ubuntu/taizhou-youjiu-trading/src/app/api/quotes/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { getProductById } from '@/data/products';\n\n// 模拟数据库存储\nlet quotes: any[] = [];\n\n// 自动报价逻辑\nfunction calculateQuote(productId: string, quantity: number, customerType: string = 'regular') {\n  const product = getProductById(productId);\n  if (!product || !product.price) {\n    throw new Error('Product not found or no price available');\n  }\n\n  let basePrice = product.price.min;\n  \n  // 根据数量计算折扣\n  let quantityDiscount = 0;\n  if (quantity >= 1000) {\n    quantityDiscount = 0.15; // 15% 折扣\n  } else if (quantity >= 500) {\n    quantityDiscount = 0.10; // 10% 折扣\n  } else if (quantity >= 100) {\n    quantityDiscount = 0.05; // 5% 折扣\n  }\n\n  // 根据客户类型调整价格\n  let customerDiscount = 0;\n  if (customerType === 'vip') {\n    customerDiscount = 0.10; // VIP客户额外10%折扣\n  } else if (customerType === 'wholesale') {\n    customerDiscount = 0.08; // 批发客户额外8%折扣\n  }\n\n  // 计算最终单价\n  const totalDiscount = quantityDiscount + customerDiscount;\n  const unitPrice = basePrice * (1 - totalDiscount);\n  const totalPrice = unitPrice * quantity;\n\n  // 报价有效期（30天）\n  const validUntil = new Date();\n  validUntil.setDate(validUntil.getDate() + 30);\n\n  return {\n    unitPrice: Math.round(unitPrice * 100) / 100,\n    totalPrice: Math.round(totalPrice * 100) / 100,\n    quantityDiscount: Math.round(quantityDiscount * 100),\n    customerDiscount: Math.round(customerDiscount * 100),\n    totalDiscount: Math.round(totalDiscount * 100),\n    validUntil,\n    currency: product.price.currency,\n    terms: 'FOB Shanghai, Payment: 30% T/T in advance, 70% before shipment'\n  };\n}\n\n// POST /api/quotes - 生成自动报价\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    \n    // 验证必需字段\n    const requiredFields = ['inquiryId', 'productId', 'quantity'];\n    for (const field of requiredFields) {\n      if (!body[field]) {\n        return NextResponse.json(\n          { success: false, error: `Missing required field: ${field}` },\n          { status: 400 }\n        );\n      }\n    }\n\n    const { inquiryId, productId, quantity, customerType = 'regular' } = body;\n\n    // 验证数量\n    if (quantity <= 0) {\n      return NextResponse.json(\n        { success: false, error: 'Quantity must be greater than 0' },\n        { status: 400 }\n      );\n    }\n\n    // 计算报价\n    const quoteCalculation = calculateQuote(productId, quantity, customerType);\n    \n    // 创建报价记录\n    const newQuote = {\n      id: `quote-${Date.now()}`,\n      inquiryId,\n      productId,\n      quantity,\n      ...quoteCalculation,\n      status: 'pending',\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n\n    // 保存到模拟数据库\n    quotes.push(newQuote);\n\n    return NextResponse.json({\n      success: true,\n      data: newQuote,\n      message: 'Quote generated successfully'\n    }, { status: 201 });\n  } catch (error) {\n    console.error('Error generating quote:', error);\n    return NextResponse.json(\n      { success: false, error: error instanceof Error ? error.message : 'Failed to generate quote' },\n      { status: 500 }\n    );\n  }\n}\n\n// GET /api/quotes - 获取所有报价\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const status = searchParams.get('status');\n    const inquiryId = searchParams.get('inquiryId');\n    const page = parseInt(searchParams.get('page') || '1');\n    const limit = parseInt(searchParams.get('limit') || '10');\n\n    let filteredQuotes = [...quotes];\n\n    // 按状态筛选\n    if (status) {\n      filteredQuotes = filteredQuotes.filter(quote => quote.status === status);\n    }\n\n    // 按询盘ID筛选\n    if (inquiryId) {\n      filteredQuotes = filteredQuotes.filter(quote => quote.inquiryId === inquiryId);\n    }\n\n    // 分页\n    const startIndex = (page - 1) * limit;\n    const endIndex = startIndex + limit;\n    const paginatedQuotes = filteredQuotes.slice(startIndex, endIndex);\n\n    return NextResponse.json({\n      success: true,\n      data: paginatedQuotes,\n      pagination: {\n        page,\n        limit,\n        total: filteredQuotes.length,\n        totalPages: Math.ceil(filteredQuotes.length / limit)\n      }\n    });\n  } catch (error) {\n    console.error('Error fetching quotes:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch quotes' },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}